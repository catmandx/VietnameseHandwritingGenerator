<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <script src="/static/js/jquery-3.6.0.min.js"></script>
        <!-- Latest compiled and minified CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <!-- Latest compiled JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="./js/model.js"></script>
        <script src="./js/view.js"></script>
        <script src="./js/controller.js"></script>
        <script src="./js/components.js"></script>
        <script src="./js/index.js"></script>
        <link rel="stylesheet" href="./css/main.css">
    </head>
    <body>
        <div id="app" class="container-fluid pl-5 pt-2 pb-2">
            <div class="row">
                <div class="col">
                    <h1 class="display-5">Base list</h1>
                    <button id="downloadJson" class="btn btn-success"></button>
                </div>
            </div>
           
            <div class="row">
                <div class="col-md-12 d-flex flex-wrap" id="baseList">
                    <div class="card m-3 px-5 base-card" data-bs-toggle="modal" data-bs-target="#editBaseModal">
                        <div class="card-header bg-white text-center" style="font-size:72pt;">m</div>
                        <div class="card-body"></div>
                    </div>

                    <div class="card m-3 px-5 base-card" data-bs-toggle="modal" data-bs-target="#editBaseModal">
                        <div class="card-header bg-white text-center" style="font-size:72pt;">s</div>
                        <div class="card-body"></div>
                    </div>

                    <div class="card m-3 px-5 base-card" data-bs-toggle="modal" data-bs-target="#addNewBaseCardModal">
                        <div class="card-header bg-white text-center" style="font-size:72pt;">+</div>
                        <div class="card-body"></div>
                    </div>
                </div>
            </div>

            
            <div class="modal fade" id="addNewBaseCardModal">
                <div class="modal-dialog">
                    <div class="modal-content">

                        <!-- Modal Header -->
                        <div class="modal-header">
                            <h4 class="modal-title">Modal Heading</h4>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>

                        <!-- Modal body -->
                        <div class="modal-body">
                            <form id="newBaseCardForm" action="#">
                                <input name="newBase" type="text" class="form-control" placeholder="Character" aria-label="Character">
                            </form>
                        </div>

                        <!-- Modal footer -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                        </div>

                    </div>
                </div>
            </div>

            <div class="modal fade" id="editBaseModal" tabindex="-1">
                <div class="modal-dialog modal-fullscreen">
                    <div class="modal-content">
            
                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Change base </h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
            
                    <!-- Modal body -->
                    <div class="modal-body">
                        <form id="editBaseForm" action="#">
                            <div class="row">
                                <div class="col-2 d-flex align-items-center justify-content-center">Editing base</div>
                                <div class="col-10 d-flex align-items-center ">
                                    <span>Unicode:</span>
                                    <input id="baseUnicode" class="glyph-display text-center" value="97" type="text" disabled=true size=4>
                                    <span>Glyph</span>
                                    <input id="baseCharacter" class="glyph glyph-display text-center" value="a" size="1">
                                    <span>Number of types:</span>
                                    <input id="numberOfTypes" class="glyph-display text-center" value="0" size="5">
                                </div>
                            </div>
    
                            <div class="row" class="base-type-editor" id="type1">
                                <div class="col-sm-2 d-flex align-items-center justify-content-center">
                                    <p>Type</p> 
                                    <p class="type-num">1</p>
                                </div>
                                <div class="col-sm-10">
                                    <div class="row  d-flex align-items-center p-2">                                
                                        <div class="col-4 col-sm-2">Capitalization</div>
                                        <div class="col-8 col-sm-10">
                                            <input type="checkbox" name="isCap1" id="isCap1">
                                        </div>
                                    </div>

                                    <script>
                                        function handleGlyphInput(e){
                                            console.log(123)
                                            let input = $(e);
                                            console.log(input)
                                            let inputValue = input.val();
                                            console.log(inputValue)
                                            let unicodeInputName = input.attr('for');
                                            let unicodeInput = $('#'+unicodeInputName);
                                            unicodeInput.val(inputValue.charCodeAt(0) | null);
                                        }
                                    </script>
                                    
                                    <div class="row">
                                        <div class="col-2 col-sm-2 text-center">
                                            <p>Level (Ngang)</p>
                                            <p><input id="level" class="text-center" value="" type="number" size=4></p>
                                            <input type="text" id="glyphinputlevel1" for="level" onkeyup="handleGlyphInput(this)" class="glyph text-center" value="" size="1" maxlength="1">
                                        </div>
                                        <div class="col-2 col-sm-2 text-center">
                                            <p>Acute (Sắc)</p>
                                            <p><input id="acute" class="text-center" value="" type="number" size=4></p>
                                            <input type="text" id="glyphinputlevel1" for="acute" onkeyup="handleGlyphInput(this)" class="glyph text-center" value="" size="1" maxlength="1">
                                        </div><div class="col-2 col-sm-2 text-center">
                                            <p>Lower (Huyền)</p>
                                            <p><input id="lower" class="text-center" value="" type="number" size=4></p>
                                            <input type="text" id="glyphinputlevel1" for="lower" onkeyup="handleGlyphInput(this)" class="glyph text-center" value="" size="1" maxlength="1">
                                        </div><div class="col-2 col-sm-2 text-center">
                                            <p>Rising (Hỏi)</p>
                                            <p><input id="rising" class="text-center" value="" type="number" size=4></p>
                                            <input type="text" id="glyphinputlevel1" for="rising" onkeyup="handleGlyphInput(this)" class="glyph text-center" value="" size="1" maxlength="1">
                                        </div><div class="col-2 col-sm-2 text-center">
                                            <p>Raised (Ngã)</p>
                                            <p><input id="raised" class="text-center" value="" type="number" size=4></p>
                                            <input type="text" id="glyphinputlevel1" for="raised" onkeyup="handleGlyphInput(this)" class="glyph text-center" value="" size="1" maxlength="1">
                                        </div><div class="col-2 col-sm-2 text-center">
                                            <p>Heavy (Nặng)</p>
                                            <p><input id="heavy" class="text-center" value="" type="number" size=4></p>
                                            <input type="text" id="glyphinputlevel1" for="heavy" onkeyup="handleGlyphInput(this)" class="glyph text-center" value="" size="1" maxlength="1">
                                        </div>
                                    </div>
                                    <div class="row  d-flex align-items-center p-2">                                
                                        <div class="col-4 col-sm-2">Previous</div>
                                        <div class="col-8 col-sm-10 d-flex align-items-center">
                                            <textarea name="prev1" id="prev1" cols="30" rows="4" class="not-resizable"></textarea>
                                            <input class="glyph glyph-display text-center" value="a" size="1">
                                            <a href="#prevCharChooser" data-bs-toggle="collapse">Choose prev char</a>
                                        </div>
                                    </div>
                                    <div class="align-items-center p-2 collapse" id="prevCharChooser">
                                        <div class="col-12 col-sm-12">
                                            abc
                                        </div>
                                    </div>
                                    <div class="row  d-flex align-items-center p-2">                                
                                        <div class="col-4 col-sm-2">Next</div>
                                        <div class="col-8 col-sm-10 d-flex align-items-center">
                                            <textarea name="next1" id="next1" cols="30" rows="4" class="not-resizable"></textarea>
                                            <input class="glyph glyph-display text-center" value="a" size="1">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
            
                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-success" data-bs-dismiss="modal">Save</button>
                        <button type="button" class="btn btn-warning" >Add new type</button>
                    </div>
            
                    </div>
                </div>
            </div>
            <script>
                $(document).ready(function(){
                    $('#editBaseModal').modal('show')
                });
            </script>

        </div>
    </body>
</html>